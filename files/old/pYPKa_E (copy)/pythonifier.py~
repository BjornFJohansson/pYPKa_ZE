#!/home/bjorn/anaconda/envs/bjorn/bin/python
# -*- coding: utf-8 -*-
import os, sys
import IPython.nbformat.current as nbf

d = os.path.dirname(os.path.realpath(sys.argv[0]))

ipynbfiles = [f for f in os.listdir(d) if f.endswith(".ipynb")]

for pf in ipypyfiles:
    name, ext = os.path.splitext(pf)
    new_name =  os.path.join(name+"."+"py")
    if os.path.exists(new_name):
        continue
    print new_name
    nb = nbf.read(open(pf, 'r'), 'ipynb')
    nbf.write(nb, open(new_name, 'w'), 'py')
    


a=raw_input("return")
